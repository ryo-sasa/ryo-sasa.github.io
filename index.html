<!DOCTYPE html>
<link rel="stylesheet" href="brushup.css">
<meta name=”viewport” content=”width=device-width, initial-scale=1″>
<html lang="ja">

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>エントリーシート</title>
    
    <!-- Bootstrap CSS（CDN版） -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <!-- jQuery & jQuery UI（CDN版） -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

    <!-- 独自CSS -->
    <link rel="stylesheet" href="brushup.css">

    <!-- ファビコン -->
    <link href="./../favicon.ico" rel="icon" type="image/x-icon"/>

    <!-- 独自JS -->
    <script>
        var controller_url = 'brushup';
    </script>
    <script src="brushup.js"></script>

    <!-- Bootstrap JS（CDN版） -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
</head>

<div class="Form">
    <!-- hiden-field等 -->
    <input id="status" name="status" type="hidden" value=""/>
    <input id="is_open" name="is_open" type="hidden" value="1"/>
    <input name="dummy_text_to_avoid_submitting_by_pushing_enter_key" style="position:absolute;visibility:hidden" type="text" />

    <fieldset>
        <legend>あなたについて</legend>
        <!-- 氏名(漢字) -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>氏名(漢字)
            </p>
            <!-- 姓 -->
            <input type="text" class="Form-Item-Input" placeholder="日本" id="name_1" name="name_1" required>
            <!-- 名 -->
            <input type="text" class="Form-Item-Input" placeholder="太郎" id="name_2" name="name_2" required>
        </div>

        <!-- 氏名(カナ) -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>氏名(カナ)
            </p>
            <!-- セイ -->
            <input type="text" class="Form-Item-Input" placeholder="ﾆﾎﾝ" id="name_1_kana" name="name_1_kana" pattern="[ｦ-ﾟ\s]+" title="半角カタカナで入力してください" required oninput="this.value = toHalfWidthKana(this.value)">
            <!-- メイ -->
            <input type="text" class="Form-Item-Input" placeholder="ﾀﾛｳ" id="name_2_kana" name="name_2_kana" pattern="[ｦ-ﾟ\s]+" title="半角カタカナで入力してください" required oninput="this.value = toHalfWidthKana(this.value)">
        </div>

        <!-- 性別 -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>性別
            </p>
            <select class="Form-Item-Input" id="sex" name="sex">
                <option value="">--選択してください--</option>
                <option value="男性">男性</option>
                <option value="女性">女性</option>
            </select>
        </div>

        <!-- 生年月日 -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>生年月日
            </p>
            <input type="date" class="Form-Item-Input" name="birthday" required>
        </div>

        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>住所
            </p>

            <!-- 郵便番号入力 -->
            
            <div class="address-group" style="margin-bottom: 10px;">
                <label for="address_num">郵便番号：</label>
                <input
                    id="address_num"
                    name="address_num"
                    type="text"
                    maxlength="7"
                    placeholder="例: 1000001"
                    required
                />
                <button type="button" id="searchButton" style="color: white;">検索</button>
            </div>
            <!-- 住所入力 -->
            <div class="address-group" style="margin-bottom: 10px;">
                <label for="address_str">住所：</label>
                <input
                id="address_str"
                name="address_str"
                type="text"
                placeholder="郵便番号検索ボタンを押してください"
                style="width: auto;"
                />
            </div>
            <!-- 建物名入力 -->
            <div class="address-group">
                <label for="address_str_building">建物名：</label>
                <input
                id="address_str_building"
                name="address_str_building"
                type="text"
                placeholder="例: マンション名・部屋番号"
                style="width: auto;"
                />
                <small style="color: gray; display: block;">
                ※郵便番号はハイフンなしの半角数字7桁
                </small>
                <small style="color: gray; display: block;">
                ※丁目番地・部屋の号数の数値は全角数字
                </small>
            </div>
        </div>

        <!-- 電話番号(自宅) -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">選択<br>必須</span>電話番号(自宅)
            </p>
            <input type="text" class="Form-Item-Input" placeholder="03-1234-5678" id="tel_home" name="tel_home" required>
            <br>
            <small style="color:gray;">※ハイフン区切り</small>
        </div>

        <!-- 電話番号(携帯) -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">選択<br>必須</span>電話番号(携帯)
            </p>
            <input type="text" class="Form-Item-Input" placeholder="090-1234-5678" id="tel_mobile" name="tel_mobile" required>
            <small style="color:gray; display:block;">※ハイフン区切り</small>
        </div>
    </fieldset>

    <fieldset>
        <legend>大学について</legend>
        <div class="exclusion-note">
            短期大学・専門学校在籍・卒業の方は対象外です。
        </div>
        <!-- 大学名 -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>大学
            </p>
            <input
                type="text"
                class="Form-Item-Input"
                placeholder="〇〇大学"
                id="daigaku"
                name="daigaku"
                required
            >
            <small>※最後に「大学」と付けて入力してください。</small>
        </div>

        <!-- 学部 -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>学部
            </p>
            <input type="text" class="Form-Item-Input" placeholder="〇〇学部" id="gakubu" name="gakubu" required><br>
            <small style="color:gray;">※最後に「学部」と付けて入力してください。</small>
        </div>

        <!-- 学科 -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>学科
            </p>
            <input type="text" class="Form-Item-Input" placeholder="〇〇学科" id="gakka" name="gakka" required>
            <small style="color:gray;">※最後に「学科」と付けて入力してください。</small>
        </div>

        <!-- 大学入学月日 -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>大学入学月日
            </p>
            <input type="date" class="Form-Item-Input" name="enter_univ">
        </div>

        <!-- 大学受験区分 -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>大学受験区分
            </p>
            <select class="Form-Item-Input" id="daigaku_juken_kubun" name="daigaku_juken_kubun">
                <option value="" selected>--選択してください--</option>
                <option value="1">一般</option>
                <option value="2">内部進学</option>
                <option value="3">指定校推薦</option>
                <option value="4">AO</option>
                <option value="5">帰国子女</option>
            </select>
        </div>


        <!-- 大学院名 -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">進学者のみ</span>大学院
            </p>
            <input type="text" class="Form-Item-Input" placeholder="〇〇大学院" id="daigakuin" name="daigakuin" type="text" required>
            <small style="color:gray;">※最後に「大学大学院」と付けて入力してください。</small>
        </div>

        <!-- 研究科 -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">進学者のみ</span>研究科
            </p>
            <input type="text" class="Form-Item-Input" placeholder="〇〇研究科" id="kenkyuuka" name="kenkyuuka" type="text" required>
            <small style="color:gray;">※最後に「研究科」と付けて入力してください。</small>
        </div>

        <!-- 専攻 -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">進学者のみ</span>専攻
            </p>
            <input type="text" class="Form-Item-Input" id="senkou"
            name="senkou"
            type="text"
            placeholder="〇〇専攻" required>
            <small style="color:gray;">※最後に「専攻」と付けて入力してください。</small>
        </div>

        <!-- 学年 -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>学年
            </p>
            <select class="Form-Item-Input" id="school_year" name="school_year" required>
                <option value="">--選択してください--</option>
                <option value="1">1年</option>
                <option value="2">2年</option>
                <option value="3">3年</option>
                <option value="4">4年</option>
                <option value="5">5年</option>
                <option value="6">6年</option>
                <option value="101">修士1</option>
                <option value="102">修士2</option>
                <option value="200">博士</option>
                <option value="900">既卒</option>
            </select>
        </div>

        <!-- 大学で所属している部活・サークル・団体 -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">任意</span>大学で所属している部活・サークル・団体
            </p>
            <input type="text" class="Form-Item-Input" id="daigaku_org" name="daigaku_org" required>
        </div>
    </fieldset>

    <fieldset>
        <legend>大学受験について</legend>
        <!-- 共通テスト -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>共通テスト得点
            </p>
        <tr>
            <th>
            共通テストの科目・開示得点
            <span style="color: red;">※必須</span>
            </th>
            <td>
            <p>
                共通テストの科目・開示得点を入力してください。<br>
                受験していない科目は「受験なし」を選択してください。<br>
                <span style="color: red;">
                業務のマッチングに利用しますので正確にご記入をお願いいたします。
                </span>
            </p>
        
            <!-- 試験タイプ選択 -->
            <label for="exam_type">試験の種類：</label>
            <select id="exam_type" name="exam_type" onchange="updateSubjects()">
                <option value="">--選択してください--</option>
                <option value="center">センター試験(～2020)</option>
                <option value="common_2024">共通テスト(2021～2024)</option>
                <option value="common_2025">共通テスト(2025～)</option>
            </select>
        
            <!-- 科目入力テーブル -->
            <table border="1">
                <thead>
                <tr>
                    <th>科目</th>
                    <th>選択科目</th>
                    <th>得点（不明の場合は空欄）</th>
                </tr>
                </thead>
                <tbody id="subjects_table">
                <!-- 外国語 -->
                <tr>
                    <td rowspan="2">外国語</td>
                    <td>
                    <select id="foreign_language_1" name="foreign_language_1" onchange="toggleScoreInput(this, 'foreign_language_score_1')"></select>
                    </td>
                    <td>
                    <input
                        type="number"
                        id="foreign_language_score_1"
                        name="foreign_language_score_1"
                        placeholder="例: 80"
                        style="display: none;"
                        min="0"
                    >
                    </td>
                </tr>
                <tr>
                    <td>
                    <select id="foreign_language_2" name="foreign_language_2" onchange="toggleScoreInput(this, 'foreign_language_score_2')"></select>
                    </td>
                    <td>
                    <input
                        type="number"
                        id="foreign_language_score_2"
                        name="foreign_language_score_2"
                        placeholder="例: 85"
                        style="display: none;"
                        min="0"
                    >
                    </td>
                </tr>
        
                <!-- 国語 -->
                <tr>
                    <td rowspan="3">国語</td>
                    <td>
                    <select id="japanese_1" name="japanese_1" onchange="toggleScoreInput(this, 'japanese_score_1')"></select>
                    </td>
                    <td>
                    <input
                        type="number"
                        id="japanese_score_1"
                        name="japanese_score_1"
                        placeholder="例: 70"
                        style="display: none;"
                        min="0"
                    >
                    </td>
                </tr>
                <tr>
                    <td>
                    <select id="japanese_2" name="japanese_2" onchange="toggleScoreInput(this, 'japanese_score_2')"></select>
                    </td>
                    <td>
                    <input
                        type="number"
                        id="japanese_score_2"
                        name="japanese_score_2"
                        placeholder="例: 75"
                        style="display: none;"
                        min="0"
                    >
                    </td>
                </tr>
                <tr>
                    <td>
                    <select id="japanese_3" name="japanese_3" onchange="toggleScoreInput(this, 'japanese_score_3')"></select>
                    </td>
                    <td>
                    <input
                        type="number"
                        id="japanese_score_3"
                        name="japanese_score_3"
                        placeholder="例: 80"
                        style="display: none;"
                        min="0"
                    >
                    </td>
                </tr>
        
                <!-- 数学① -->
                <tr>
                    <td>数学①</td>
                    <td>
                    <select id="math_1" name="math_1" onchange="toggleScoreInput(this, 'math_1_score')"></select>
                    </td>
                    <td>
                    <input
                        type="number"
                        id="math_1_score"
                        name="math_1_score"
                        placeholder="例: 90"
                        style="display: none;"
                        min="0"
                    >
                    </td>
                </tr>
        
                <!-- 数学② -->
                <tr>
                    <td>数学②</td>
                    <td>
                    <select id="math_2" name="math_2" onchange="toggleScoreInput(this, 'math_2_score')"></select>
                    </td>
                    <td>
                    <input
                        type="number"
                        id="math_2_score"
                        name="math_2_score"
                        placeholder="例: 88"
                        style="display: none;"
                        min="0"
                    >
                    </td>
                </tr>
        
                <!-- 地歴公民 -->
                <tr>
                    <td rowspan="2">地歴公民</td>
                    <td>
                    <select id="social_studies_1" name="social_studies_1" onchange="toggleScoreInput(this, 'social_studies_score_1')"></select>
                    </td>
                    <td>
                    <input
                        type="number"
                        id="social_studies_score_1"
                        name="social_studies_score_1"
                        placeholder="例: 85"
                        style="display: none;"
                        min="0"
                    >
                    </td>
                </tr>
                <tr>
                    <td>
                    <select id="social_studies_2" name="social_studies_2" onchange="toggleScoreInput(this, 'social_studies_score_2')"></select>
                    </td>
                    <td>
                    <input
                        type="number"
                        id="social_studies_score_2"
                        name="social_studies_score_2"
                        placeholder="例: 82"
                        style="display: none;"
                        min="0"
                    >
                    </td>
                </tr>
        
                <!-- 理科①(基礎) -->
                <tr>
                    <td rowspan="2">理科①(基礎)</td>
                    <td>
                    <select id="science_1_1" name="science_1_1" onchange="toggleScoreInput(this, 'science_1_score_1')"></select>
                    </td>
                    <td>
                    <input
                        type="number"
                        id="science_1_score_1"
                        name="science_1_score_1"
                        placeholder="例: 75"
                        style="display: none;"
                        min="0"
                    >
                    </td>
                </tr>
                <tr>
                    <td>
                    <select id="science_1_2" name="science_1_2" onchange="toggleScoreInput(this, 'science_1_score_2')"></select>
                    </td>
                    <td>
                    <input
                        type="number"
                        id="science_1_score_2"
                        name="science_1_score_2"
                        placeholder="例: 72"
                        style="display: none;"
                        min="0"
                    >
                    </td>
                </tr>
        
                <!-- 理科②(専門) -->
                <tr>
                    <td rowspan="2">理科②(専門)</td>
                    <td>
                    <select id="science_2_1" name="science_2_1" onchange="toggleScoreInput(this, 'science_2_score_1')"></select>
                    </td>
                    <td>
                    <input
                        type="number"
                        id="science_2_score_1"
                        name="science_2_score_1"
                        placeholder="例: 70"
                        style="display: none;"
                        min="0"
                    >
                    </td>
                </tr>
                <tr>
                    <td>
                    <select id="science_2_2" name="science_2_2" onchange="toggleScoreInput(this, 'science_2_score_2')"></select>
                    </td>
                    <td>
                    <input
                        type="number"
                        id="science_2_score_2"
                        name="science_2_score_2"
                        placeholder="例: 68"
                        style="display: none;"
                        min="0"
                    >
                    </td>
                </tr>
        
                <!-- 情報 -->
                <tr>
                    <td>情報</td>
                    <td>
                    <select id="information" name="information" onchange="toggleScoreInput(this, 'information_score')"></select>
                    </td>
                    <td>
                    <input
                        type="number"
                        id="information_score"
                        name="information_score"
                        placeholder="例: 75"
                        style="display: none;"
                        min="0"
                    >
                    </td>
                </tr>
                </tbody>
            </table>
            </td>
        </tr>
        
        <!-- スクリプト部分は従来どおり -->
        <script>
            const testOptions = {
            center: {
                foreign_language: ["英語(筆記)", "英語(リスニング)", "ドイツ語", "フランス語", "中国語", "韓国語", "受験なし"],
                japanese: ["現代文", "古文", "漢文", "受験なし"],
                math_1: ["数学Ⅰ", "数学Ⅰ・A", "受験なし"],
                math_2: ["数学Ⅱ", "数学Ⅱ・B", "簿記・会計", "情報関係基礎", "受験なし"],
                social_studies: ["世界史A", "世界史B", "日本史A", "日本史B", "地理A", "地理B", "現代社会", "倫理", "政治・経済", "倫理，政治・経済", "受験なし"],
                science_1: ["物理基礎", "化学基礎", "生物基礎", "地学基礎", "受験なし"],
                science_2: ["物理", "化学", "生物", "地学", "受験なし"],
                information: ["受験なし"]
            },
            common_2024: {
                foreign_language: ["英語リーディング", "英語リスニング", "ドイツ語", "フランス語", "中国語", "韓国語", "受験なし"],
                japanese: ["現代文", "古文", "漢文", "受験なし"],
                math_1: ["数学Ⅰ", "数学Ⅰ・A", "受験なし"],
                math_2: ["数学Ⅱ", "数学Ⅱ・B", "簿記・会計", "情報関係基礎", "受験なし"],
                social_studies: ["世界史A", "世界史B", "日本史A", "日本史B", "地理A", "地理B", "現代社会", "倫理", "政治・経済", "倫理，政治・経済", "受験なし"],
                science_1: ["物理基礎", "化学基礎", "生物基礎", "地学基礎", "受験なし"],
                science_2: ["物理", "化学", "生物", "地学", "受験なし"],
                information: ["受験なし"]
            },
            common_2025: {
                foreign_language: ["英語リーディング", "英語リスニング", "ドイツ語", "フランス語", "中国語", "韓国語", "受験なし"],
                japanese: ["現代文", "古文", "漢文", "受験なし"],
                math_1: ["数学Ⅰ", "数学Ⅰ・A", "受験なし"],
                math_2: ["数学Ⅱ", "数学Ⅱ・B", "数学Ⅱ・B・C", "受験なし"],
                social_studies: ["歴史総合，世界史探求", "歴史総合，日本史探求", "地理総合，地理探求", "公共，倫理", "公共，政治・経済", "受験なし"],
                science_1: ["物理基礎", "化学基礎", "生物基礎", "地学基礎", "受験なし"],
                science_2: ["物理", "化学", "生物", "地学", "受験なし"],
                information: ["情報Ⅰ", "受験なし"]
            }
            };
        
            function updateSubjects() {
            const examType = document.getElementById("exam_type").value;
            if (!testOptions[examType]) return;
        
            Object.keys(testOptions[examType]).forEach((key) => {
                const selects = document.querySelectorAll(`select[name^="${key}"]`);
                selects.forEach((select) => {
                select.innerHTML = `<option value="">--選択してください--</option>`;
                testOptions[examType][key].forEach((option) => {
                    const opt = document.createElement("option");
                    opt.value = option;
                    opt.textContent = option;
                    select.appendChild(opt);
                });
                });
            });
            }
        
            function toggleScoreInput(select, inputId) {
            const input = document.getElementById(inputId);
            input.style.display = (select.value && select.value !== "受験なし") ? "block" : "none";
            }
        
            function validateScoreInput(inputElement) {
            // 0未満の場合は0にする
            if (inputElement.value < 0) {
                inputElement.value = 0;
            }
            // 先頭の不要な0を削除(ただし「0」そのものは削除しない)
            inputElement.value = inputElement.value.replace(/^0+(\d+)/, '$1');
            }
        
            // 全スコア入力欄のchangeイベントでvalidateScoreInputを実行
            document.querySelectorAll('input[type="number"]').forEach(input => {
            input.addEventListener("change", function () {
                validateScoreInput(input);
            });
            });
        </script>
        </div>
  
        <!-- 二次試験 --> 
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>二次試験得点
            </p>
        <tr>
            <th>二次試験（個別試験）の科目・開示得点</th>
            <td>
            <p>二次試験（個別試験）で使用した教科・科目とその開示得点を記入してください。</p>
            <table border="1">
                <thead>
                <tr>
                    <th>科目</th>
                    <th>詳細な科目</th>
                    <th>得点 (不明の場合は空欄)</th>
                </tr>
                </thead>
                <tbody id="second-test-body">
                <tr>
                    <td>
                    <select class="main-subject">
                        <option value="">--選択してください--</option>
                        <option value="外国語">外国語</option>
                        <option value="国語">国語</option>
                        <option value="数学">数学</option>
                        <option value="理科">理科</option>
                        <option value="地歴公民">地歴公民</option>
                        <option value="小論文">小論文</option>
                        <option value="その他">その他</option>
                        <option value="受験なし">受験なし</option>
                    </select>
                    </td>
                    <td>
                    <select class="sub-subject" style="display: none;">
                        <option value="">--選択してください--</option>
                    </select>
                    </td>
                    <td>
                    <input type="number" class="score-input" min="0" style="display: none;" placeholder="例: 80">
                    </td>
                </tr>
                </tbody>
            </table>
            <script>
                // 科目ごとの詳細科目
                const subjectDetails = {
                "外国語": ["英語", "その他"],
                "国語": [],
                "数学": [],
                "理科": ["物理", "化学", "生物", "地学"],
                "地歴公民": ["世界史", "日本史", "地理", "公民"],
                "小論文": [],
                "その他": ["総合問題", "英語資格/検定試験", "調査書", "実技", "その他"],
                "受験なし": []
                };
        
                // サブ科目と得点入力欄を表示する関数
                function updateSubSubject(mainSelect) {
                const subSelect = mainSelect.parentElement.nextElementSibling.children[0];
                const scoreInput = subSelect.parentElement.nextElementSibling.children[0];
                const selectedValue = mainSelect.value;
        
                // サブ科目リセット
                subSelect.innerHTML = '<option value="">--選択してください--</option>';
                if (selectedValue && subjectDetails[selectedValue].length > 0) {
                    subjectDetails[selectedValue].forEach(sub => {
                    const option = document.createElement("option");
                    option.value = sub;
                    option.textContent = sub;
                    subSelect.appendChild(option);
                    });
                    subSelect.style.display = "block";
                    scoreInput.style.display = "block";
                } else {
                    subSelect.style.display = "none";
                    subSelect.value = "";
                    scoreInput.style.display = selectedValue === "受験なし" ? "none" : "block";
                }
        
                // 最後の行であれば、新しい行を追加
                addRowIfLast(mainSelect.parentElement.parentElement);
                }
        
                // 最初の行にイベントリスナーを追加する関数
                function addEventListenersToFirstRow() {
                const firstMainSubjectSelect = document.querySelector('#second-test-body .main-subject');
                if (firstMainSubjectSelect) {
                    firstMainSubjectSelect.addEventListener('change', function() {
                    updateSubSubject(this);
                    });
                }
                }
        
                // 最終行に新しい行を追加する関数
                function addRowIfLast(row) {
                const tableBody = document.getElementById("second-test-body");
                if (row.nextElementSibling === null) {
                    const newRow = row.cloneNode(true);
                    newRow.querySelectorAll("select, input").forEach(el => {
                    el.value = "";
                    if (el.classList.contains("main-subject")) {
                        el.style.display = "block";
                        el.addEventListener('change', function() {
                        updateSubSubject(this);
                        });
                    } else {
                        el.style.display = "none";
                    }
                    });
                    tableBody.appendChild(newRow);
                }
                }
        
                // 初期化処理
                document.addEventListener('DOMContentLoaded', function() {
                addEventListenersToFirstRow();
                });
        
                // 得点が0未満の場合は0に修正し、頭の0を削除
                function validateScoreInput(inputElement) {
                if (inputElement.value < 0) {
                    inputElement.value = 0;
                }
                inputElement.value = inputElement.value.replace(/^0+(\d+)/, '$1');
                }
        
                document.addEventListener('DOMContentLoaded', function() {
                addEventListenersToFirstRow();
                document.querySelectorAll('.score-input').forEach(input => {
                    input.addEventListener('input', function() {
                    validateScoreInput(input);
                    });
                });
                });
            </script>
            </td>
        </tr>
        </div>
  

        <!-- 大学受験時の東進在籍歴（複数選択可） -->
        <div class="Form-Item">            
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>東進在籍歴<br>(複数選択可)
            </p>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="daigaku_juken_toshin_zaisekireki_1" name="daigaku_juken_toshin_zaisekireki[]" value="1">
                <label class="form-check-label" for="daigaku_juken_toshin_zaisekireki_1">東進ハイスクール</label>
            </div>
            
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="daigaku_juken_toshin_zaisekireki_2" name="daigaku_juken_toshin_zaisekireki[]" value="2">
                <label class="form-check-label" for="daigaku_juken_toshin_zaisekireki_2">東進衛星予備校</label>
            </div>
            
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="daigaku_juken_toshin_zaisekireki_3" name="daigaku_juken_toshin_zaisekireki[]" value="3">
                <label class="form-check-label" for="daigaku_juken_toshin_zaisekireki_3">東大特進</label>
            </div>
            
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="daigaku_juken_toshin_zaisekireki_9" name="daigaku_juken_toshin_zaisekireki[]" value="9">
                <label class="form-check-label" for="daigaku_juken_toshin_zaisekireki_9">在籍なし</label>
            </div>
            
            <small style="color: gray; display: block; margin-top: 4px;">
                複数の選択肢にチェックを入れることができます。
            </small>
            
        </div>
        


        <!-- 通学していた校舎名（東進在籍有の方のみ） -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">対象者のみ</span>通学していた校舎名<br>(東進在籍有の方のみ)
            </p>
            <input
            type="text"
            class="Form-Item-Input"
            id="daigaku_juken_toshin_koushamei"
            name="daigaku_juken_toshin_koushamei"
            placeholder="例: ○○校"
            >
        </div>
        
        <!-- 大学受験時に東進以外で通学していた塾・予備校名 -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">対象者のみ</span>大学受験時に東進以外で通学していた塾・予備校名
            </p>
            <input
            type="text"
            class="Form-Item-Input"
            id="daigaku_juken_toshin_igai_jukumei"
            name="daigaku_juken_toshin_igai_jukumei"
            placeholder="例: ○○予備校"
            >
        </div>
    </fieldset>


    <fieldset>
        <legend>中高について</legend>
        <!-- 出身高校 -->
        <fieldset>
            <legend>高校について</legend>

            <div class="Form-Item">
                <p class="Form-Item-Label">
                    <span class="Form-Item-Label-Required">必須</span>都道府県
                </p>
                <select class="Form-Item-Input" id="koukou_pref" name="koukou_pref" required>
                    <option value="">--選択してください--</option>
                    <optgroup label="北海道・東北">
                        <option value="北海道">北海道</option>
                        <option value="青森県">青森県</option>
                        <option value="岩手県">岩手県</option>
                        <option value="宮城県">宮城県</option>
                        <option value="秋田県">秋田県</option>
                        <option value="山形県">山形県</option>
                        <option value="福島県">福島県</option>
                    </optgroup>
                    <optgroup label="関東">
                        <option value="茨城県">茨城県</option>
                        <option value="栃木県">栃木県</option>
                        <option value="群馬県">群馬県</option>
                        <option value="埼玉県">埼玉県</option>
                        <option value="千葉県">千葉県</option>
                        <option value="東京都">東京都</option>
                        <option value="神奈川県">神奈川県</option>
                    </optgroup>
                    <optgroup label="中部">
                        <option value="新潟県">新潟県</option>
                        <option value="富山県">富山県</option>
                        <option value="石川県">石川県</option>
                        <option value="福井県">福井県</option>
                        <option value="山梨県">山梨県</option>
                        <option value="長野県">長野県</option>
                        <option value="岐阜県">岐阜県</option>
                        <option value="静岡県">静岡県</option>
                        <option value="愛知県">愛知県</option>
                    </optgroup>
                    <optgroup label="近畿">
                        <option value="三重県">三重県</option>
                        <option value="滋賀県">滋賀県</option>
                        <option value="京都府">京都府</option>
                        <option value="大阪府">大阪府</option>
                        <option value="兵庫県">兵庫県</option>
                        <option value="奈良県">奈良県</option>
                        <option value="和歌山県">和歌山県</option>
                    </optgroup>
                    <optgroup label="中国・四国">
                        <option value="鳥取県">鳥取県</option>
                        <option value="島根県">島根県</option>
                        <option value="岡山県">岡山県</option>
                        <option value="広島県">広島県</option>
                        <option value="山口県">山口県</option>
                        <option value="徳島県">徳島県</option>
                        <option value="香川県">香川県</option>
                        <option value="愛媛県">愛媛県</option>
                        <option value="高知県">高知県</option>
                    </optgroup>
                    <optgroup label="九州・沖縄">
                        <option value="福岡県">福岡県</option>
                        <option value="佐賀県">佐賀県</option>
                        <option value="長崎県">長崎県</option>
                        <option value="熊本県">熊本県</option>
                        <option value="大分県">大分県</option>
                        <option value="宮崎県">宮崎県</option>
                        <option value="鹿児島県">鹿児島県</option>
                        <option value="沖縄県">沖縄県</option>
                    </optgroup>
                </select>
            </div>

            <div class="Form-Item">
                <p class="Form-Item-Label">
                    <span class="Form-Item-Label-Required">必須</span>区分
                </p>
                <select class="Form-Item-Input" id="koukou_pref2" name="koukou_pref2">
                    <option value="">--選択してください--</option>
                    <option value="国立">国立</option>
                    <option value="公立">公立</option>
                    <option value="私立">私立</option>
                </select>
            </div>
            
            <div class="Form-Item">
                <p class="Form-Item-Label">
                    <span class="Form-Item-Label-Required">必須</span>校名
                </p>
                <input type="text" class="Form-Item-Input" id="koukou_name" name="koukou_name" placeholder="〇〇高校" required>
            </div>
        </fieldset>

        <fieldset>
            <legend>中学について</legend>

            <!-- 出身中学 -->

            <div class="Form-Item">
                <p class="Form-Item-Label">
                    <span class="Form-Item-Label-Required">必須</span>受験有無
                </p>
                <select class="Form-Item-Input" id="chugaku_juken_umu" name="chugaku_juken_umu">
                    <option value="">--選択してください--</option>
                    <option value="あり">受験した</option>
                    <option value="なし">受験していない</option>
                    </select>
            </div>
            
            <div class="Form-Item">
                <p class="Form-Item-Label">
                    <span class="Form-Item-Label-Required">必須</span>出身中学
                </p>
                <input type="text" class="Form-Item-Input" id="chugaku_name" name="chugaku_name" placeholder="〇〇中学校" required>
            </div>
        </fieldset>

    </fieldset>
    
    <fieldset>
        <legend>教務力判定テスト受験希望科目選択について</legend>
        <!-- 教務力判定テスト（受験希望科目） -->
        <div class="exclusion-note-cbt">
            受験を希望する科目を第1〜第3解答科目まで選択してください。<br>
            試験では原則第1解答科目が割り振られ、合格した1科目で就業していただきます。
        </div>
        <div class="exclusion-note">
            ※小論文での就業希望者は国語で受験するようお願いします。<br>
            公民・地学での就業希望者はさしあたって他科目での受験をお願いします。<br>
            ※数学は理系数学を、理科は基礎以降を含みますので履修済みの方のみ選択してください。
        </div>
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>第1解答科目
            </p>
            <select class="Form-Item-Input" name="answer_ability_test_subject_1" style="width: 100%;">
                <option value="">--選択してください--</option>
                <option value="英語">英語</option>
                <option value="国語">国語</option>
                <option value="数学">数学</option>
                <option value="世界史">世界史</option>
                <option value="日本史">日本史</option>
                <option value="地理">地理</option>
                <option value="物理">物理</option>
                <option value="化学">化学</option>
                <option value="生物">生物</option>
            </select>
        </div>
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>第2解答科目
            </p>
            <select class="Form-Item-Input" name="answer_ability_test_subject_2" style="width: 100%;">
                <option value="">--選択してください--</option>
                <option value="英語">英語</option>
                <option value="国語">国語</option>
                <option value="数学">数学</option>
                <option value="世界史">世界史</option>
                <option value="日本史">日本史</option>
                <option value="地理">地理</option>
                <option value="物理">物理</option>
                <option value="化学">化学</option>
                <option value="生物">生物</option>
            </select>
        </div>
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>第3解答科目
            </p>
            <select class="Form-Item-Input" name="answer_ability_test_subject_3" style="width: 100%;">
                <option value="">--選択してください--</option>
                <option value="英語">英語</option>
                <option value="国語">国語</option>
                <option value="数学">数学</option>
                <option value="世界史">世界史</option>
                <option value="日本史">日本史</option>
                <option value="地理">地理</option>
                <option value="物理">物理</option>
                <option value="化学">化学</option>
                <option value="生物">生物</option>
            </select>
        </div>
    </fieldset>

<!-- 下段の注意書き（赤字） -->
<p style="color: red; font-weight: bold; margin-top: 10px;">
    
</p>

    <fieldset>
    <legend>自己PRおよび紹介者</legend>
        <!-- 紹介者 -->
        <div class="Form-Item">
            <p class="Form-Item-Label">紹介者</p>
            <div>
            <select class="Form-Item-Input" id="introducer_select" name="introducer_select">
                <option value="">--選択してください--</option>
                <option value="toshin">東進HPより</option>
                <option value="other">その他</option>
            </select>
            <br>
            <input type="text" class="Form-Item-Input" id="introducer" name="introducer" placeholder="例: 知人の名前" style="display: none;">
            <br>
            <small id="introducer_note" style="color: gray; display: none;">
                ※紹介者からの指定がある場合はその通りに入力してください。
            </small>
            </div>
        </div>

        <!-- 自由記述欄 -->
        <div class="Form-Item">
            <p class="Form-Item-Label">
                <span class="Form-Item-Label-Required">必須</span>自由記入欄
            </p>
            <textarea class="Form-Item-Textarea" name="memo" placeholder="ご自由にご記入ください"></textarea>
        </div>

        

    </fieldset>

    <!-- 送信ボタン -->
    <div class="Form-Item">
        <input type="submit" class="Form-Btn" value="送信する">
    </div>
</div>
